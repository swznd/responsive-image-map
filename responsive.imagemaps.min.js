(function(d){function c(f){if(!d(f).data("orig-width")){d(f).data("orig-width",f.naturalWidth)}if(!d(f).data("orig-height")){d(f).data("orig-height",f.naturalHeight)}var j=d(f).data("orig-width");var h=d(f).data("orig-height");var g=f.clientWidth;var e=f.clientHeight;var i=d(f).attr("usemap").replace("#","");d('map[name="'+i+'"]').find("area").each(function(){if(!d(this).data("coords")){d(this).data("coords",d(this).attr("coords"))}var n=d(this).data("coords").split(",");var m=1;var k=1;if(j!=g){var k=g/j}if(h!=e){var m=e/h}for(var l=0;l<n.length;l++){n[l]=parseInt(parseInt(n[l])*(l%2===0?k:m))}d(this).attr("coords",n.join(","))})}var b=window.MutationObserver||window.WebKitMutationObserver;function a(){var f=document.createElement("p");var e=false;if(f.addEventListener){f.addEventListener("DOMAttrModified",function(){e=true},false)}else{if(f.attachEvent){f.attachEvent("onDOMAttrModified",function(){e=true})}else{return false}}return e}d.fn.responsiveImageMaps=function(){this.each(function(){if(!d(this).attr("usemap")){return}d(this).on("load",function(){c(this)})});if(b){var e={attributes:true,childList:false,subtree:false};var f=new b(function(g){g.forEach(function(h){c(h.target)})});this.each(function(){f.observe(this,e)})}else{if(a){this.on("DOMAttrModified",function(g){c(g)})}else{if("onpropertychange" in document.body){this.on("propertychange",function(g){c(g)})}}}}})(jQuery||Zepto);